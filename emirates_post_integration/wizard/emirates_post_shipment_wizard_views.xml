<odoo>
    <record id="view_emirates_post_shipment_wizard_form" model="ir.ui.view">
        <field name="name">emirates.post.shipment.wizard.form</field>
        <field name="model">emirates.post.shipment.wizard</field>
        <field name="arch" type="xml">
            <form string="Create Emirates Post Shipment">
                <!-- Hidden field for visibility conditions -->
                <field name="is_domestic_shipment" invisible="1"/>

                <group>
                    <group string="Order Information">
                        <field name="picking_id" readonly="1"/>
                        <field name="partner_id" readonly="1"/>
                        <field name="reference_no"/>
                    </group>
                    <group string="Shipment Details">
                        <field name="cod_amount"/>
                        <field name="pieces"/>
                        <field name="weight"/>
                        <field name="item_value"/>
                    </group>
                </group>
                <notebook>
                    <page string="Sender Information">
                        <group>
                            <field name="sender_name"/>
                            <field name="sender_company"/>
                            <field name="sender_address"/>
                            <field name="sender_city" options="{'no_create': True}"/>
                            <field name="sender_phone"/>
                            <field name="sender_mobile"/>
                            <field name="sender_email"/>
                        </group>
                    </page>
                    <page string="Receiver Information">
                        <group>
                            <group string="Contact Details">
                                <field name="receiver_name"/>
                                <field name="receiver_company"/>
                                <field name="receiver_address"/>
                                <field name="receiver_phone"/>
                                <field name="receiver_mobile"/>
                                <field name="receiver_email"/>
                            </group>
                            <group string="Location">
                                <field name="receiver_country_id"
                                       options="{'no_create': True}"
                                       required="1"/>
                                <field name="receiver_state_id"
                                       options="{'no_create': True}"
                                       invisible="not receiver_country_id"
                                       context="{'default_country_id': receiver_country_id}"/>
                                <label for="receiver_emirate_id"
                                       invisible="not is_domestic_shipment"/>
                                <div invisible="not is_domestic_shipment">
                                    <field name="receiver_emirate_id"
                                           options="{'no_create': True}"
                                           required="is_domestic_shipment"
                                           class="oe_inline"/>
                                    <span class="text-muted"> (للشحنات المحلية داخل الإمارات)</span>
                                </div>
                                <label for="receiver_city_name"
                                       invisible="is_domestic_shipment"/>
                                <div invisible="is_domestic_shipment">
                                    <field name="receiver_city_name"
                                           required="not is_domestic_shipment"
                                           placeholder="e.g. London, Paris, New York"
                                           class="oe_inline"/>
                                    <span class="text-muted"> (للشحنات الدولية)</span>
                                </div>
                            </group>
                        </group>
                        <div class="alert alert-info" role="alert" style="margin-top: 16px;">
                            <i class="fa fa-info-circle"/>
                            <strong>ملاحظة:</strong>
                            <span invisible="not is_domestic_shipment">
                                هذه شحنة محلية داخل دولة الإمارات. يرجى اختيار الإمارة المناسبة.
                            </span>
                            <span invisible="is_domestic_shipment">
                                هذه شحنة دولية إلى <field name="receiver_country_id" readonly="1" style="font-weight: bold;" class="oe_inline"/>.
                                يرجى إدخال اسم المدينة يدوياً.
                            </span>
                        </div>
                    </page>
                    <page string="Package Details">
                        <group>
                            <group>
                                <field name="length"/>
                                <field name="width"/>
                                <field name="height"/>
                            </group>
                            <group>
                                <field name="commodity_description"/>
                            </group>
                        </group>
                    </page>
                    <page string="Pickup">
                        <group>
                            <field name="pickup_date"/>
                            <field name="pickup_time_from"/>
                            <field name="pickup_time_to"/>
                        </group>
                    </page>
                </notebook>
                <footer>
                    <button name="action_create_shipment" string="Create Shipment" type="object" class="btn-primary"/>
                    <button string="Cancel" class="btn-secondary" special="cancel"/>
                </footer>
            </form>
        </field>
    </record>
</odoo>