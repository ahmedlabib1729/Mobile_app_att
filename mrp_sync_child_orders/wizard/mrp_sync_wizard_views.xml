<?xml version="1.0" encoding="utf-8"?>
<odoo>

    <!-- SYNC CHILD MOs WIZARD -->
    <record id="mrp_sync_child_wizard_form" model="ir.ui.view">
        <field name="name">mrp.sync.child.wizard.form</field>
        <field name="model">mrp.sync.child.wizard</field>
        <field name="arch" type="xml">
            <form string="Sync Child Manufacturing Orders">
                <group>
                    <group string="Parent Manufacturing Order">
                        <field name="parent_mo_id" readonly="1"/>
                        <field name="original_qty" readonly="1"/>
                        <field name="qty_producing"/>
                    </group>
                    <group string="Sync Options">
                        <field name="sync_close"/>
                        <field name="sync_backorder"/>
                    </group>
                </group>
                
                <group string="Child Manufacturing Orders" invisible="not sync_close">
                    <field name="child_mo_line_ids" nolabel="1" colspan="2">
                        <list editable="bottom">
                            <field name="selected" widget="boolean_toggle"/>
                            <field name="child_mo_name" readonly="1"/>
                            <field name="product_id" readonly="1"/>
                            <field name="original_qty" readonly="1"/>
                            <field name="new_qty"/>
                            <field name="state" readonly="1" widget="badge"/>
                        </list>
                    </field>
                </group>
                
                <footer>
                    <button name="action_confirm" 
                            string="Confirm &amp; Sync" 
                            type="object" 
                            class="btn-primary"/>
                    <button name="action_skip" 
                            string="Skip (Close Parent Only)" 
                            type="object" 
                            class="btn-secondary"/>
                    <button string="Cancel" 
                            class="btn-secondary" 
                            special="cancel"/>
                </footer>
            </form>
        </field>
    </record>


    <!-- CANCEL CHILD MOs WIZARD -->
    <record id="mrp_sync_cancel_wizard_form" model="ir.ui.view">
        <field name="name">mrp.sync.cancel.wizard.form</field>
        <field name="model">mrp.sync.cancel.wizard</field>
        <field name="arch" type="xml">
            <form string="Cancel Child Manufacturing Orders?">
                <group>
                    <p class="text-warning">
                        <strong>Warning:</strong> 
                        You are about to cancel a manufacturing order that has 
                        child manufacturing orders.
                    </p>
                </group>
                
                <group>
                    <field name="cancel_children"/>
                </group>
                
                <group string="Child Manufacturing Orders to Cancel" 
                       invisible="not cancel_children">
                    <field name="child_mo_ids" nolabel="1" colspan="2">
                        <list>
                            <field name="name"/>
                            <field name="product_id"/>
                            <field name="product_qty"/>
                            <field name="state" widget="badge"/>
                        </list>
                    </field>
                </group>
                
                <field name="parent_mo_ids" invisible="1"/>
                
                <footer>
                    <button name="action_confirm" 
                            string="Confirm Cancel" 
                            type="object" 
                            class="btn-danger"/>
                    <button name="action_skip" 
                            string="Cancel Parent Only" 
                            type="object" 
                            class="btn-warning"/>
                    <button string="Back" 
                            class="btn-secondary" 
                            special="cancel"/>
                </footer>
            </form>
        </field>
    </record>

</odoo>
