<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <!-- توسيع Form View للموظف -->
    <record id="view_employee_form_inherit_quran" model="ir.ui.view">
        <field name="name">hr.employee.form.inherit.quran</field>
        <field name="model">hr.employee</field>
        <field name="inherit_id" ref="hr.view_employee_form"/>
        <field name="arch" type="xml">
            <!-- إضافة حقل معلم القرآن -->
            <xpath expr="//field[@name='work_email']" position="after">
                <field name="is_quran_teacher" widget="boolean_toggle"/>
            </xpath>

            <!-- إضافة أزرار الإحصائيات في button box -->
            <xpath expr="//div[@name='button_box']" position="inside">
                <button name="action_view_quran_classes"
                        type="object"
                        class="oe_stat_button"
                        icon="fa-graduation-cap"
                        invisible="not is_quran_teacher">
                    <field name="quran_class_count" widget="statinfo" string="الصفوف"/>
                </button>
                <button name="action_view_quran_sessions"
                        type="object"
                        class="oe_stat_button"
                        icon="fa-calendar"
                        invisible="not is_quran_teacher">
                    <field name="quran_session_count" widget="statinfo" string="الجلسات"/>
                </button>
            </xpath>
        </field>
    </record>

    <!-- توسيع List View للموظف -->
    <record id="view_employee_tree_inherit_quran" model="ir.ui.view">
        <field name="name">hr.employee.tree.inherit.quran</field>
        <field name="model">hr.employee</field>
        <field name="inherit_id" ref="hr.view_employee_tree"/>
        <field name="arch" type="xml">
            <xpath expr="//field[@name='job_id']" position="after">
                <field name="is_quran_teacher" widget="boolean_toggle" optional="show"/>
            </xpath>
        </field>
    </record>

    <!-- فلتر للبحث -->
    <record id="view_employee_filter_inherit_quran" model="ir.ui.view">
        <field name="name">hr.employee.search.inherit.quran</field>
        <field name="model">hr.employee</field>
        <field name="inherit_id" ref="hr.view_employee_filter"/>
        <field name="arch" type="xml">
            <xpath expr="//filter[@name='inactive']" position="after">
                <separator/>
                <filter string="معلمي القرآن" name="quran_teachers" domain="[('is_quran_teacher', '=', True)]"/>
            </xpath>
        </field>
    </record>
</odoo>