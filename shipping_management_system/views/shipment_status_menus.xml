<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <!-- Actions for each status -->

    <!-- Draft Shipments -->
    <record id="action_shipment_draft" model="ir.actions.act_window">
        <field name="name">Draft Shipments</field>
        <field name="res_model">shipment.order</field>
        <field name="view_mode">list,kanban,form</field>
        <field name="domain">[('state', '=', 'draft')]</field>
        <field name="context">{'search_default_draft': 1}</field>
        <field name="help" type="html">
            <p class="o_view_nocontent_smiling_face">
                No draft shipments
            </p>
            <p>
                Create new shipment orders here.
            </p>
        </field>
    </record>



    <!-- Confirmed Shipments -->
    <record id="action_shipment_confirmed" model="ir.actions.act_window">
        <field name="name">Confirmed Shipments</field>
        <field name="res_model">shipment.order</field>
        <field name="view_mode">list,kanban,form</field>
        <field name="domain">[('state', '=', 'confirmed')]</field>
        <field name="context">{'search_default_confirmed': 1}</field>
        <field name="help" type="html">
            <p class="o_view_nocontent_smiling_face">
                No confirmed shipments
            </p>
            <p>
                Shipments waiting for pickup will appear here.
            </p>
        </field>
    </record>

    <!-- Torood Hub Shipments -->
    <record id="action_shipment_torood_hub" model="ir.actions.act_window">
        <field name="name">Draft Shipments</field>
        <field name="res_model">shipment.order</field>
        <field name="view_mode">list,kanban,form</field>
        <field name="domain">[('state', '=', 'torood_hub')]</field>
        <field name="context">{'search_default_torood_hub': 1}</field>
        <field name="help" type="html">
            <p class="o_view_nocontent_smiling_face">
                No shipments in Torood Hub
            </p>
            <p>
                Create new shipment orders here.
            </p>
        </field>
    </record>

    <!-- Picked Up Shipments -->
    <record id="action_shipment_picked" model="ir.actions.act_window">
        <field name="name">Picked Up</field>
        <field name="res_model">shipment.order</field>
        <field name="view_mode">list,kanban,form</field>
        <field name="domain">[('state', '=', 'picked')]</field>
        <field name="help" type="html">
            <p class="o_view_nocontent_smiling_face">
                No picked up shipments
            </p>
            <p>
                Shipments that have been picked up from sender.
            </p>
        </field>
    </record>

    <!-- In Transit Shipments -->
    <record id="action_shipment_in_transit" model="ir.actions.act_window">
        <field name="name">In Transit</field>
        <field name="res_model">shipment.order</field>
        <field name="view_mode">list,kanban,form</field>
        <field name="domain">[('state', '=', 'in_transit')]</field>
        <field name="help" type="html">
            <p class="o_view_nocontent_smiling_face">
                No shipments in transit
            </p>
            <p>
                Shipments currently being transported.
            </p>
        </field>
    </record>

    <!-- Torood Hub Shipments -->
    <record id="action_shipment_shipping_company_hub" model="ir.actions.act_window">
        <field name="name">Draft Shipments</field>
        <field name="res_model">shipment.order</field>
        <field name="view_mode">list,kanban,form</field>
        <field name="domain">[('state', '=', 'shipping_company_hub')]</field>
        <field name="context">{'search_default_shipping_company_hub': 1}</field>
        <field name="help" type="html">
            <p class="o_view_nocontent_smiling_face">
                No shipments in Shipping company Hub
            </p>
            <p>
                Create new shipment orders here.
            </p>
        </field>
    </record>

    <!-- Out for Delivery -->
    <record id="action_shipment_out_for_delivery" model="ir.actions.act_window">
        <field name="name">Out for Delivery</field>
        <field name="res_model">shipment.order</field>
        <field name="view_mode">list,kanban,form</field>
        <field name="domain">[('state', '=', 'out_for_delivery')]</field>
        <field name="help" type="html">
            <p class="o_view_nocontent_smiling_face">
                No shipments out for delivery
            </p>
            <p>
                Shipments currently with delivery agent.
            </p>
        </field>
    </record>

    <!-- Delivered Shipments -->
    <record id="action_shipment_delivered" model="ir.actions.act_window">
        <field name="name">Delivered</field>
        <field name="res_model">shipment.order</field>
        <field name="view_mode">list,kanban,form</field>
        <field name="domain">[('state', '=', 'delivered')]</field>
        <field name="help" type="html">
            <p class="o_view_nocontent_smiling_face">
                No delivered shipments
            </p>
            <p>
                Successfully delivered shipments.
            </p>
        </field>
    </record>

    <!-- Returned Shipments -->
    <record id="action_shipment_returned" model="ir.actions.act_window">
        <field name="name">Returned</field>
        <field name="res_model">shipment.order</field>
        <field name="view_mode">list,kanban,form</field>
        <field name="domain">[('state', '=', 'returned')]</field>
        <field name="help" type="html">
            <p class="o_view_nocontent_smiling_face">
                No returned shipments
            </p>
            <p>
                Shipments that have been returned to sender.
            </p>
        </field>
    </record>

    <!-- Cancelled Shipments -->
    <record id="action_shipment_cancelled" model="ir.actions.act_window">
        <field name="name">Cancelled</field>
        <field name="res_model">shipment.order</field>
        <field name="view_mode">list,kanban,form</field>
        <field name="domain">[('state', '=', 'cancelled')]</field>
        <field name="help" type="html">
            <p class="o_view_nocontent_smiling_face">
                No cancelled shipments
            </p>
            <p>
                Cancelled shipment orders.
            </p>
        </field>
    </record>

    <!-- Today's Pickups -->
    <record id="action_shipment_today_pickup" model="ir.actions.act_window">
        <field name="name">Today's Pickups</field>
        <field name="res_model">shipment.order</field>
        <field name="view_mode">list,kanban,form,calendar</field>
        <field name="domain">[
            ('pickup_date', '&gt;=', datetime.datetime.now().strftime('%Y-%m-%d 00:00:00')),
            ('pickup_date', '&lt;=', datetime.datetime.now().strftime('%Y-%m-%d 23:59:59'))
        ]</field>
        <field name="help" type="html">
            <p class="o_view_nocontent_smiling_face">
                No pickups scheduled for today
            </p>
        </field>
    </record>

    <!-- COD Shipments -->
    <record id="action_shipment_cod" model="ir.actions.act_window">
        <field name="name">COD Shipments</field>
        <field name="res_model">shipment.order</field>
        <field name="view_mode">list,kanban,form</field>
        <field name="domain">[('payment_method', '=', 'cod')]</field>
        <field name="help" type="html">
            <p class="o_view_nocontent_smiling_face">
                No COD shipments
            </p>
            <p>
                Cash on Delivery shipments.
            </p>
        </field>
    </record>


    <record id="action_shipment_no_action" model="ir.actions.act_window">
            <field name="name">No Action (24+ Hours)</field>
            <field name="res_model">shipment.order</field>
            <field name="view_mode">list,form,kanban,calendar</field>
            <field name="domain">[('state', '=', 'draft'), ('create_date', '&lt;=', (datetime.datetime.now() - datetime.timedelta(hours=24)).strftime('%Y-%m-%d %H:%M:%S'))]</field>
            <field name="context">{'search_default_no_action': 1, 'default_state': 'draft'}</field>
            <field name="help" type="html">
                <p class="o_view_nocontent_smiling_face">
                    No orders pending action for more than 24 hours
                </p>
                <p>
                    Orders shown here have been in Draft state for more than 24 hours without any action.
                    <br/>Please take necessary action on these orders.
                </p>
            </field>
        </record>



    <record id="action_shipment_overdue" model="ir.actions.act_window">
            <field name="name">Overdue Deliveries</field>
            <field name="res_model">shipment.order</field>
            <field name="view_mode">list,form,kanban,calendar</field>
            <field name="domain">[
                ('expected_delivery', '!=', False),
                ('expected_delivery', '&lt;', datetime.datetime.now()),
                ('state', 'not in', ['delivered', 'cancelled', 'returned'])
            ]</field>
            <field name="context">{
                'search_default_overdue': 1,
                'default_highlight_overdue': True,
                'search_default_sort_by_expected_delivery': 1
            }</field>
            <field name="help" type="html">
                <p class="o_view_nocontent_smiling_face">
                    Great! No overdue deliveries
                </p>
                <p>
                    Orders shown here have passed their expected delivery date.<br/>
                    <strong>Take immediate action on these orders!</strong>
                </p>
            </field>
        </record>

    <menuitem id="menu_shipment_root"
              name="Shipments"
              sequence="10"
              web_icon="shipping_management_system,static/img/delivery-box_9540209.png"/>

        <!-- Menu Item -->
        <menuitem
            id="menu_shipment_overdue"
            name="Overdue Deliveries"
            parent="menu_shipment_root"
            action="action_shipment_overdue"
            sequence="10"
            groups="base.group_user"/>



        <!-- Menu Item -->
        <menuitem
            id="menu_shipment_no_action"
            name="No Action"
            parent="menu_shipment_root"
            action="action_shipment_no_action"
            sequence="15"/>




    <menuitem id="menu_egypt_locations_root"
              name="Egypt Locations"
              parent="menu_shipment_root"
              sequence="50"/>

    <menuitem id="menu_egypt_governorate"
              name="Governorates"
              parent="menu_egypt_locations_root"
              action="action_egypt_governorate"
              sequence="10"/>

    <menuitem id="menu_egypt_area"
              name="Areas"
              parent="menu_egypt_locations_root"
              action="action_egypt_area"
              sequence="20"/>

    <menuitem id="menu_egypt_city"
              name="Cities/Districts"
              parent="menu_egypt_locations_root"
              action="action_egypt_city"
              sequence="30"/>

    <menuitem id="menu_import_egypt_locations"
              name="Import from Excel"
              parent="menu_egypt_locations_root"
              action="action_import_egypt_locations"
              sequence="100"/>

    <!-- ===== MENU ITEMS - الترتيب الصحيح ===== -->

    <!-- 1. Main Root Menu -->


    <!-- 2. Dashboard (First Item) -->
    <menuitem id="menu_shipment_dashboard"
              name="📊 Dashboard"
              parent="menu_shipment_root"
              action="action_shipment_dashboard_client"
              sequence="1"/>

    <!-- 3. All Shipments -->
    <menuitem id="menu_shipment_orders"
              name="All Shipment Orders"
              parent="menu_shipment_root"
              action="action_shipment_order"
              sequence="5"/>

    <!-- 4. By Status Menu -->
    <menuitem id="menu_shipment_by_status"
              name="By Status"
              parent="menu_shipment_root"
              sequence="20"/>

    <!-- Status Sub-menus -->
    <menuitem id="menu_shipment_draft"
              name="📝 Draft"
              parent="menu_shipment_by_status"
              action="action_shipment_draft"
              sequence="10"/>

    <menuitem id="menu_shipment_confirmed"
              name="✅ Confirmed"
              parent="menu_shipment_by_status"
              action="action_shipment_confirmed"
              sequence="20"/>

    <menuitem id="menu_shipment_torood_hub"
              name="🏢 Torood Hub"
              parent="menu_shipment_by_status"
              action="action_shipment_torood_hub"
              sequence="30"/>

    <menuitem id="menu_shipment_picked"
              name="📦 Picked Up"
              parent="menu_shipment_by_status"
              action="action_shipment_picked"
              sequence="35"/>





    <menuitem id="menu_shipment_in_transit"
              name="🚚 In Transit"
              parent="menu_shipment_by_status"
              action="action_shipment_in_transit"
              sequence="40"/>


    <menuitem id="menu_shipment_shipping_company_hub"
              name="🏭 Shipping Company Hub"
              parent="menu_shipment_by_status"
              action="action_shipment_shipping_company_hub"
              sequence="45"/>

    <menuitem id="menu_shipment_out_for_delivery"
              name="🏃 Out for Delivery"
              parent="menu_shipment_by_status"
              action="action_shipment_out_for_delivery"
              sequence="50"/>

    <menuitem id="menu_shipment_delivered"
              name="✔️ Delivered"
              parent="menu_shipment_by_status"
              action="action_shipment_delivered"
              sequence="60"/>

    <menuitem id="menu_shipment_returned"
              name="↩️ Returned"
              parent="menu_shipment_by_status"
              action="action_shipment_returned"
              sequence="70"/>

    <menuitem id="menu_shipment_cancelled"
              name="❌ Cancelled"
              parent="menu_shipment_by_status"
              action="action_shipment_cancelled"
              sequence="80"/>

    <!-- 5. Quick Access Menu -->
    <menuitem id="menu_shipment_quick_access"
              name="Quick Access"
              parent="menu_shipment_root"
              sequence="30"/>

    <menuitem id="menu_shipment_today_pickup"
              name="📅 Today's Pickups"
              parent="menu_shipment_quick_access"
              action="action_shipment_today_pickup"
              sequence="10"/>

    <menuitem id="menu_shipment_cod"
              name="💰 COD Shipments"
              parent="menu_shipment_quick_access"
              action="action_shipment_cod"
              sequence="20"/>

    <!-- 6. Configuration Menu - يجب تعريفه قبل استخدامه -->
    <menuitem id="menu_shipment_config"
              name="Configuration"
              parent="menu_shipment_root"
              sequence="100"/>

    <!-- 7. Configuration Sub-menus -->
    <menuitem id="menu_shipping_companies"
              name="Shipping Companies"
              parent="menu_shipment_config"
              action="action_shipping_company"
              sequence="10"/>

    <menuitem id="menu_product_subcategory"
              name="Product Subcategories"
              parent="menu_shipment_config"
              action="action_product_subcategory"
              sequence="50"/>



    <menuitem id="menu_product_brand"
              name="Product Brands"
              parent="menu_shipment_config"
              action="action_product_brand"
              sequence="35"/>



    <menuitem id="menu_customer_categories"
              name="Customer Categories"
              parent="menu_shipment_config"
              action="action_customer_price_category"
              sequence="20"/>



    <menuitem id="menu_additional_services"
              name="Additional Services"
              parent="shipping_management_system.menu_shipment_config"
              action="action_additional_service"
              sequence="30"/>



</odoo>